{% extends 'base/base.html' %}

{% block body %}
<div id="login">
    <div class="container">
        <div class="row mt-5">
            <div class="form-signin mt-5">
                <form>
                    <h1 class="h3 mb-3 fw-normal d-flex justify-content-center text-primary">Please sign in</h1>
                    <div class="form-floating">
                        <input type="text" class="form-control" placeholder="username"
                               id="username" name="username">
                        <label for="username">Username</label>
                    </div>
                    <br/>
                    <div class="form-floating">
                        <input type="password" class="form-control" placeholder="Password"
                               id="password" name="password">
                        <label for="password">Password</label>
                    </div>
                    <div class="form-group">
                        <button class="w-100 btn btn-lg btn-primary" id="loginButton" type="submit">Sign in</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block script %}

<!--Jquery 3.4.1-->
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>

<script>
    $(document).ready(function () {
    $('#loginButton').click(function() {
        $.post('/apis/v1/user/login/', {'username': $('#username').val(), 'password': $('#password').val()}, function() {
            window.location = '/';
        }).fail(function(data) {
            alert(data.responseJSON.message);
        });
});
});

</script>
{% endblock %}
